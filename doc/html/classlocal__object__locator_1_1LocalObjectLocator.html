<html><head><meta http-equiv="Content-Type" content="text/html;charset=utf-8">
<title>ros_crop_estimation: local_object_locator.LocalObjectLocator Class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
<script type="text/javascript" src="jquery.js"></script>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',false,false,'search.php','Search');
});
</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacelocal__object__locator.html">local_object_locator</a></li><li class="navelem"><a class="el" href="classlocal__object__locator_1_1LocalObjectLocator.html">LocalObjectLocator</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pub-static-attribs">Static Public Attributes</a> &#124;
<a href="classlocal__object__locator_1_1LocalObjectLocator-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">local_object_locator.LocalObjectLocator Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a90f8500972d63d7cb59e35eafbd04f63"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlocal__object__locator_1_1LocalObjectLocator.html#a90f8500972d63d7cb59e35eafbd04f63">__init__</a> (self, pub_name=&quot;/object_detector/objects_pointcloud&quot;, sub_name=&quot;/object_detector/object_detected&quot;)</td></tr>
<tr class="separator:a90f8500972d63d7cb59e35eafbd04f63"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac7da07d90624ae264931334f5d75bc4d"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlocal__object__locator_1_1LocalObjectLocator.html#ac7da07d90624ae264931334f5d75bc4d">detect_objects_in_img</a> (self, objects_in_im)</td></tr>
<tr class="separator:ac7da07d90624ae264931334f5d75bc4d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af011d04258f48639bc1b77a5c9e31e58"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlocal__object__locator_1_1LocalObjectLocator.html#af011d04258f48639bc1b77a5c9e31e58">get_cam_coords_from_img_positions</a> (self, im_pixel_positions, im_depth, im_color, camera_info)</td></tr>
<tr class="separator:af011d04258f48639bc1b77a5c9e31e58"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e7ceb92ff759c6727b728c2d915c68f"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlocal__object__locator_1_1LocalObjectLocator.html#a6e7ceb92ff759c6727b728c2d915c68f">get_pixel_positions_from_objects_detected</a> (self, objects_detected)</td></tr>
<tr class="separator:a6e7ceb92ff759c6727b728c2d915c68f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a9b322b79d198e7e1b08bb26e97fc3348"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlocal__object__locator_1_1LocalObjectLocator.html#a9b322b79d198e7e1b08bb26e97fc3348">bridge</a></td></tr>
<tr class="separator:a9b322b79d198e7e1b08bb26e97fc3348"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr class="memitem:a7854bb73a2d232d11ab27ad53a63ab02"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlocal__object__locator_1_1LocalObjectLocator.html#a7854bb73a2d232d11ab27ad53a63ab02">camera_model</a> = None</td></tr>
<tr class="separator:a7854bb73a2d232d11ab27ad53a63ab02"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8bd59fa91c19fd1e6b6510623ed964d7"><td class="memItemLeft" align="right" valign="top">tuple&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlocal__object__locator_1_1LocalObjectLocator.html#a8bd59fa91c19fd1e6b6510623ed964d7">color2depth_aspect</a> = (84.1/1920) / (70.0/512)</td></tr>
<tr class="separator:a8bd59fa91c19fd1e6b6510623ed964d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adebdcd27c6c99f27a6b0b1263f2f1d4a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlocal__object__locator_1_1LocalObjectLocator.html#adebdcd27c6c99f27a6b0b1263f2f1d4a">detected_positions</a> = None</td></tr>
<tr class="separator:adebdcd27c6c99f27a6b0b1263f2f1d4a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8316f55f1f7543702fa4975697e0d8e0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlocal__object__locator_1_1LocalObjectLocator.html#a8316f55f1f7543702fa4975697e0d8e0">detector_model</a> = None</td></tr>
<tr class="separator:a8316f55f1f7543702fa4975697e0d8e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a81cb03bb0996bcf27992b39ddc8b380e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlocal__object__locator_1_1LocalObjectLocator.html#a81cb03bb0996bcf27992b39ddc8b380e">img_sub</a> = None</td></tr>
<tr class="separator:a81cb03bb0996bcf27992b39ddc8b380e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a29f6f34dc0ad6ab2c813cba0c3de2634"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlocal__object__locator_1_1LocalObjectLocator.html#a29f6f34dc0ad6ab2c813cba0c3de2634">pc_pub</a> = None</td></tr>
<tr class="separator:a29f6f34dc0ad6ab2c813cba0c3de2634"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a12933a79e79e13a9de031bb96520773b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlocal__object__locator_1_1LocalObjectLocator.html#a12933a79e79e13a9de031bb96520773b">tf_listener</a> = None</td></tr>
<tr class="separator:a12933a79e79e13a9de031bb96520773b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a013821f63af1ba30ffe7c263142b57b2"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlocal__object__locator_1_1LocalObjectLocator.html#a013821f63af1ba30ffe7c263142b57b2">visualisation</a> = True</td></tr>
<tr class="separator:a013821f63af1ba30ffe7c263142b57b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><pre class="fragment">The YoloObjectLocator publishes a point cloud that includes the detected positions of grape-bunches.
This is done by subscribing to the robot's camera and extracting grape image positions from the image.
These image positions are then used to infer the position of the grape using image-to-world transforms.
</pre> 
<p class="definition">Definition at line <a class="el" href="local__object__locator_8py_source.html#l00020">20</a> of file <a class="el" href="local__object__locator_8py_source.html">local_object_locator.py</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a90f8500972d63d7cb59e35eafbd04f63"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a90f8500972d63d7cb59e35eafbd04f63">&#9670;&nbsp;</a></span>__init__()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def local_object_locator.LocalObjectLocator.__init__ </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>pub_name</em> = <code>&quot;/object_detector/objects_pointcloud&quot;</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>sub_name</em> = <code>&quot;/object_detector/object_detected&quot;</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Initialize the object locator.
@param pub_name: the name of the publisher to publish the point cloud
@type pub_name: str
@param sub_name: the name of the subscriber to subscribe to the object detection topic
@type sub_name: str 
</pre> 
<p class="definition">Definition at line <a class="el" href="local__object__locator_8py_source.html#l00036">36</a> of file <a class="el" href="local__object__locator_8py_source.html">local_object_locator.py</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="ac7da07d90624ae264931334f5d75bc4d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac7da07d90624ae264931334f5d75bc4d">&#9670;&nbsp;</a></span>detect_objects_in_img()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def local_object_locator.LocalObjectLocator.detect_objects_in_img </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>objects_in_im</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">This function is called when a new image is received from the camera.
@param objects_in_im: The objects detected in the image.
@type objects_in_im: ObjectsInImg
@return: None
</pre> 
<p class="definition">Definition at line <a class="el" href="local__object__locator_8py_source.html#l00057">57</a> of file <a class="el" href="local__object__locator_8py_source.html">local_object_locator.py</a>.</p>

</div>
</div>
<a id="af011d04258f48639bc1b77a5c9e31e58"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af011d04258f48639bc1b77a5c9e31e58">&#9670;&nbsp;</a></span>get_cam_coords_from_img_positions()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def local_object_locator.LocalObjectLocator.get_cam_coords_from_img_positions </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>im_pixel_positions</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>im_depth</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>im_color</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>camera_info</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">get the camera coordinates of the objects detected in the image.

@param im_pixel_positions: The pixel positions of the objects detected in the image.
@type im_pixel_positions: list of tuples
@param im_depth: The depth image.
@type im_depth: Image
@param im_color: The color image.
@type im_color: Image
@param camera_info: The camera info.
@type camera_info: CameraInfo
@return: The camera coordinates of the objects detected in the image.
</pre> 
<p class="definition">Definition at line <a class="el" href="local__object__locator_8py_source.html#l00099">99</a> of file <a class="el" href="local__object__locator_8py_source.html">local_object_locator.py</a>.</p>

</div>
</div>
<a id="a6e7ceb92ff759c6727b728c2d915c68f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6e7ceb92ff759c6727b728c2d915c68f">&#9670;&nbsp;</a></span>get_pixel_positions_from_objects_detected()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def local_object_locator.LocalObjectLocator.get_pixel_positions_from_objects_detected </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>objects_detected</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">get the pixel positions of the objects detected in the image.

@param objects_detected: The objects detected in the image.
@type objects_detected: ObjectDetected
@return: The pixel positions of the objects detected in the image.
</pre> 
<p class="definition">Definition at line <a class="el" href="local__object__locator_8py_source.html#l00089">89</a> of file <a class="el" href="local__object__locator_8py_source.html">local_object_locator.py</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a9b322b79d198e7e1b08bb26e97fc3348"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9b322b79d198e7e1b08bb26e97fc3348">&#9670;&nbsp;</a></span>bridge</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">local_object_locator.LocalObjectLocator.bridge</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="local__object__locator_8py_source.html#l00053">53</a> of file <a class="el" href="local__object__locator_8py_source.html">local_object_locator.py</a>.</p>

</div>
</div>
<a id="a7854bb73a2d232d11ab27ad53a63ab02"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7854bb73a2d232d11ab27ad53a63ab02">&#9670;&nbsp;</a></span>camera_model</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">local_object_locator.LocalObjectLocator.camera_model = None</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="local__object__locator_8py_source.html#l00033">33</a> of file <a class="el" href="local__object__locator_8py_source.html">local_object_locator.py</a>.</p>

</div>
</div>
<a id="a8bd59fa91c19fd1e6b6510623ed964d7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8bd59fa91c19fd1e6b6510623ed964d7">&#9670;&nbsp;</a></span>color2depth_aspect</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">tuple local_object_locator.LocalObjectLocator.color2depth_aspect = (84.1/1920) / (70.0/512)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="local__object__locator_8py_source.html#l00031">31</a> of file <a class="el" href="local__object__locator_8py_source.html">local_object_locator.py</a>.</p>

</div>
</div>
<a id="adebdcd27c6c99f27a6b0b1263f2f1d4a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adebdcd27c6c99f27a6b0b1263f2f1d4a">&#9670;&nbsp;</a></span>detected_positions</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">local_object_locator.LocalObjectLocator.detected_positions = None</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="local__object__locator_8py_source.html#l00029">29</a> of file <a class="el" href="local__object__locator_8py_source.html">local_object_locator.py</a>.</p>

</div>
</div>
<a id="a8316f55f1f7543702fa4975697e0d8e0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8316f55f1f7543702fa4975697e0d8e0">&#9670;&nbsp;</a></span>detector_model</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">local_object_locator.LocalObjectLocator.detector_model = None</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="local__object__locator_8py_source.html#l00030">30</a> of file <a class="el" href="local__object__locator_8py_source.html">local_object_locator.py</a>.</p>

</div>
</div>
<a id="a81cb03bb0996bcf27992b39ddc8b380e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a81cb03bb0996bcf27992b39ddc8b380e">&#9670;&nbsp;</a></span>img_sub</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">local_object_locator.LocalObjectLocator.img_sub = None</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="local__object__locator_8py_source.html#l00028">28</a> of file <a class="el" href="local__object__locator_8py_source.html">local_object_locator.py</a>.</p>

</div>
</div>
<a id="a29f6f34dc0ad6ab2c813cba0c3de2634"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a29f6f34dc0ad6ab2c813cba0c3de2634">&#9670;&nbsp;</a></span>pc_pub</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">local_object_locator.LocalObjectLocator.pc_pub = None</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="local__object__locator_8py_source.html#l00027">27</a> of file <a class="el" href="local__object__locator_8py_source.html">local_object_locator.py</a>.</p>

</div>
</div>
<a id="a12933a79e79e13a9de031bb96520773b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a12933a79e79e13a9de031bb96520773b">&#9670;&nbsp;</a></span>tf_listener</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">local_object_locator.LocalObjectLocator.tf_listener = None</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="local__object__locator_8py_source.html#l00034">34</a> of file <a class="el" href="local__object__locator_8py_source.html">local_object_locator.py</a>.</p>

</div>
</div>
<a id="a013821f63af1ba30ffe7c263142b57b2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a013821f63af1ba30ffe7c263142b57b2">&#9670;&nbsp;</a></span>visualisation</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool local_object_locator.LocalObjectLocator.visualisation = True</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="local__object__locator_8py_source.html#l00032">32</a> of file <a class="el" href="local__object__locator_8py_source.html">local_object_locator.py</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="local__object__locator_8py_source.html">local_object_locator.py</a></li>
</ul>
</div><!-- contents -->

<br clear="all" />
<hr size="1"><div style="align: right;">
<a href="http://wiki.ros.org/ros_crop_estimation">ros_crop_estimation</a><br />
Author(s): </br />
<small>autogenerated on Fri Jan 28 2022 23:46:42</small>
</div>
</body>
</html>
